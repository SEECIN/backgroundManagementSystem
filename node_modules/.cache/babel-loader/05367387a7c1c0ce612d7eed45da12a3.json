{"remainingRequest":"D:\\桌面\\电商管理\\backstage\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\电商管理\\backstage\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\桌面\\电商管理\\backstage\\src\\util\\encrypt.js","dependencies":[{"path":"D:\\桌面\\电商管理\\backstage\\src\\util\\encrypt.js","mtime":1629708274933},{"path":"D:\\桌面\\电商管理\\backstage\\babel.config.js","mtime":1654661870493},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654578877485},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\babel-loader\\lib\\index.js","mtime":1654578881393},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\eslint-loader\\index.js","mtime":1654578878263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovXHU2ODRDXHU5NzYyL1x1NzUzNVx1NTU0Nlx1N0JBMVx1NzQwNi9iYWNrc3RhZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9cdTY4NENcdTk3NjIvXHU3NTM1XHU1NTQ2XHU3QkExXHU3NDA2L2JhY2tzdGFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAnc3RvcmUnOwppbXBvcnQgSlNFbmNyeXB0IGZyb20gJ2pzZW5jcnlwdCc7CmltcG9ydCBpbnN0YW5jZSBmcm9tICdAL2FwaS9jb21tb24nOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbmNyeXB0KF94KSB7CiAgcmV0dXJuIF9lbmNyeXB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9lbmNyeXB0KCkgewogIF9lbmNyeXB0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbHVlKSB7CiAgICB2YXIga2V5LCByZXN1bHQsIF9lbmNyeXB0MjsKCiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGtleSA9IHN0b3JlLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX1BVQktFWV9OQU1FKTsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CgogICAgICAgICAgICBpZiAoISgha2V5IHx8IGtleSA9PT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLmdldCgnL2tleXMnKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGtleSA9IHJlc3VsdC5wdWJLZXk7CiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cLiArL2csICcnKTsKICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1tcclxuXS9nLCAnJyk7CiAgICAgICAgICAgIHN0b3JlLnNldChwcm9jZXNzLmVudi5WVUVfQVBQX1BVQktFWV9OQU1FLCBrZXkpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIF9lbmNyeXB0MiA9IG5ldyBKU0VuY3J5cHQoKTsKCiAgICAgICAgICAgIF9lbmNyeXB0Mi5zZXRQdWJsaWNLZXkoa2V5KTsKCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9lbmNyeXB0Mi5lbmNyeXB0KHZhbHVlKSk7CgogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE1OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgY2FzZSAxODoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDE1XV0pOwogIH0pKTsKICByZXR1cm4gX2VuY3J5cHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},{"version":3,"names":["store","JSEncrypt","instance","encrypt","value","key","get","process","env","VUE_APP_PUBKEY_NAME","result","pubKey","replace","set","setPublicKey","console","log"],"sources":["D:/桌面/电商管理/backstage/src/util/encrypt.js"],"sourcesContent":["import store from 'store'\r\nimport JSEncrypt from 'jsencrypt'\r\nimport instance from '@/api/common'\r\n\r\nexport default \r\n  async function encrypt(value) {\r\n    let key = store.get(process.env.VUE_APP_PUBKEY_NAME)\r\n    try {\r\n      if (!key || key === 'undefined') {\r\n        let result = await instance.get('/keys')\r\n        key = result.pubKey\r\n        key = key.replace(/\\. +/g, '')\r\n        key = key.replace(/[\\r\\n]/g, '')\r\n        store.set(process.env.VUE_APP_PUBKEY_NAME, key)\r\n      }\r\n      let encrypt = new JSEncrypt()\r\n      encrypt.setPublicKey(key)\r\n      return encrypt.encrypt(value)\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,QAAP,MAAqB,cAArB;AAEA,wBACiBC,OADjB;EAAA;AAAA;;;wEACE,iBAAuBC,KAAvB;IAAA;;IAAA;MAAA;QAAA;UAAA;YACMC,GADN,GACYL,KAAK,CAACM,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYC,mBAAtB,CADZ;YAAA;;YAAA,MAGQ,CAACJ,GAAD,IAAQA,GAAG,KAAK,WAHxB;cAAA;cAAA;YAAA;;YAAA;YAAA,OAIyBH,QAAQ,CAACI,GAAT,CAAa,OAAb,CAJzB;;UAAA;YAIUI,MAJV;YAKML,GAAG,GAAGK,MAAM,CAACC,MAAb;YACAN,GAAG,GAAGA,GAAG,CAACO,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN;YACAP,GAAG,GAAGA,GAAG,CAACO,OAAJ,CAAY,SAAZ,EAAuB,EAAvB,CAAN;YACAZ,KAAK,CAACa,GAAN,CAAUN,OAAO,CAACC,GAAR,CAAYC,mBAAtB,EAA2CJ,GAA3C;;UARN;YAUQF,SAVR,GAUkB,IAAIF,SAAJ,EAVlB;;YAWIE,SAAO,CAACW,YAAR,CAAqBT,GAArB;;YAXJ,iCAYWF,SAAO,CAACA,OAAR,CAAgBC,KAAhB,CAZX;;UAAA;YAAA;YAAA;YAcIW,OAAO,CAACC,GAAR;;UAdJ;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C"}]}