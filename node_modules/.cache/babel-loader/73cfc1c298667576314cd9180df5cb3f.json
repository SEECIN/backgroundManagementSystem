{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\电商管理\\background-manage-system\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\电商管理\\background-manage-system\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\Administrator\\Desktop\\电商管理\\background-manage-system\\src\\api\\http.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\电商管理\\background-manage-system\\src\\api\\http.js","mtime":1661583123822},{"path":"C:\\Users\\Administrator\\Desktop\\电商管理\\background-manage-system\\babel.config.js","mtime":1654661870493},{"path":"C:\\Users\\Administrator\\Desktop\\电商管理\\background-manage-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654578877485},{"path":"C:\\Users\\Administrator\\Desktop\\电商管理\\background-manage-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1654578881393},{"path":"C:\\Users\\Administrator\\Desktop\\电商管理\\background-manage-system\\node_modules\\eslint-loader\\index.js","mtime":1654578878263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL1x1NzUzNVx1NTU0Nlx1N0JBMVx1NzQwNi9iYWNrZ3JvdW5kLW1hbmFnZS1zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfTWVzc2FnZTIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvbWVzc2FnZS5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9NZXNzYWdlIGZyb20gImVsZW1lbnQtdWkvbGliL21lc3NhZ2UiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL1x1NzUzNVx1NTU0Nlx1N0JBMVx1NzQwNi9iYWNrZ3JvdW5kLW1hbmFnZS1zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgaW5zdGFuY2UgZnJvbSAiQC9hcGkvY29tbW9uIjsKaW1wb3J0IHN0b3JlIGZyb20gInN0b3JlIjsKaW1wb3J0IEFQSV9MSVNUIGZyb20gJ0AvY29uZmlnL2FwaS5jb25maWcnOwppbXBvcnQgZW5jcnlwdCBmcm9tICJAL3V0aWwvZW5jcnlwdCI7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEh0dHAoX3gsIF94MikgewogIHJldHVybiBfSHR0cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfSHR0cCgpIHsKICBfSHR0cCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0eXBlLCBkYXRhKSB7CiAgICB2YXIgX0FQSV9MSVNUJHR5cGUsIHVybCwgbWV0aG9kLCBfQVBJX0xJU1QkdHlwZSRyc2FLZXksIHJzYUtleSwgX0FQSV9MSVNUJHR5cGUkc2V0VG9rLCBzZXRUb2tlbiwgcmVzdWx0LCB0b2tlbiwgbWVzc2FnZTsKCiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICh0eXBlIGluIEFQSV9MSVNUKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQVBJ6K+35rGC6ZSZ6K+vJyk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBfQVBJX0xJU1QkdHlwZSA9IEFQSV9MSVNUW3R5cGVdLCB1cmwgPSBfQVBJX0xJU1QkdHlwZS51cmwsIG1ldGhvZCA9IF9BUElfTElTVCR0eXBlLm1ldGhvZCwgX0FQSV9MSVNUJHR5cGUkcnNhS2V5ID0gX0FQSV9MSVNUJHR5cGUucnNhS2V5LCByc2FLZXkgPSBfQVBJX0xJU1QkdHlwZSRyc2FLZXkgPT09IHZvaWQgMCA/ICIiIDogX0FQSV9MSVNUJHR5cGUkcnNhS2V5LCBfQVBJX0xJU1QkdHlwZSRzZXRUb2sgPSBfQVBJX0xJU1QkdHlwZS5zZXRUb2tlbiwgc2V0VG9rZW4gPSBfQVBJX0xJU1QkdHlwZSRzZXRUb2sgPT09IHZvaWQgMCA/IGZhbHNlIDogX0FQSV9MSVNUJHR5cGUkc2V0VG9rOwogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzsKCiAgICAgICAgICAgIGlmICghKHJzYUtleSAmJiBkYXRhW3JzYUtleV0pKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICByZXR1cm4gZW5jcnlwdChkYXRhW3JzYUtleV0pOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgZGF0YVtyc2FLZXldID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGRhdGEgPSBtZXRob2QgPT09ICdnZXQnID8gewogICAgICAgICAgICAgIHBhcmFtczogZGF0YQogICAgICAgICAgICB9IDogbWV0aG9kID09PSAnZGVsZXRlJyA/IHsKICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgIH0gOiBkYXRhOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVttZXRob2RdKHVybCwgZGF0YSk7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgIGlmIChzZXRUb2tlbikgewogICAgICAgICAgICAgIHRva2VuID0gcmVzdWx0LnRva2VuOwogICAgICAgICAgICAgIHN0b3JlLnNldChwcm9jZXNzLmVudi5WVUVfQVBQX1RPS0VOX05BTUUsIHRva2VuKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX01lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE3OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwoKICAgICAgICAgICAgaWYgKF9jb250ZXh0LnQwLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgbWVzc2FnZSA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKCiAgICAgICAgICAgICAgX01lc3NhZ2UuZXJyb3IobWVzc2FnZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0LnQwKSk7CgogICAgICAgICAgY2FzZSAyMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzMsIDE3XV0pOwogIH0pKTsKICByZXR1cm4gX0h0dHAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},{"version":3,"names":["instance","store","API_LIST","encrypt","Http","type","data","Error","url","method","rsaKey","setToken","params","result","token","set","process","env","VUE_APP_TOKEN_NAME","message","response","error","Promise","reject"],"sources":["C:/Users/Administrator/Desktop/电商管理/background-manage-system/src/api/http.js"],"sourcesContent":["import instance from \"@/api/common\"\r\nimport store from \"store\"\r\nimport API_LIST from '@/config/api.config'\r\nimport encrypt from \"@/util/encrypt\"\r\nimport { Message } from \"element-ui\"\r\nexport default async function Http(type, data) {\r\n  if (!(type in API_LIST)) {\r\n    throw new Error('API请求错误')\r\n  }\r\n  let { url, method, rsaKey = \"\", setToken = false } = API_LIST[type]\r\n  try {\r\n    if (rsaKey && data[rsaKey]) {\r\n      data[rsaKey] = await encrypt(data[rsaKey])\r\n    }\r\n    data = method === 'get' ? { params: data } : method === 'delete' ? { data } : data\r\n    let result = await instance[method](url, data)\r\n    if (setToken) {\r\n      let token = result.token\r\n      store.set(process.env.VUE_APP_TOKEN_NAME, token)\r\n    }\r\n    Message({\r\n      message: result?.message,\r\n      type: 'success'\r\n    })\r\n    return result\r\n  } catch (error) {\r\n    if (error.response) {\r\n      let message = error.response.data.message\r\n      Message.error(message)\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n}\r\n"],"mappings":";;;;;;;AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AAEA,wBAA8BC,IAA9B;EAAA;AAAA;;;qEAAe,iBAAoBC,IAApB,EAA0BC,IAA1B;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA,IACPD,IAAI,IAAIH,QADD;cAAA;cAAA;YAAA;;YAAA,MAEL,IAAIK,KAAJ,CAAU,SAAV,CAFK;;UAAA;YAAA,iBAIwCL,QAAQ,CAACG,IAAD,CAJhD,EAIPG,GAJO,kBAIPA,GAJO,EAIFC,MAJE,kBAIFA,MAJE,yCAIMC,MAJN,EAIMA,MAJN,sCAIe,EAJf,iEAImBC,QAJnB,EAImBA,QAJnB,sCAI8B,KAJ9B;YAAA;;YAAA,MAMPD,MAAM,IAAIJ,IAAI,CAACI,MAAD,CANP;cAAA;cAAA;YAAA;;YAAA;YAAA,OAOYP,OAAO,CAACG,IAAI,CAACI,MAAD,CAAL,CAPnB;;UAAA;YAOTJ,IAAI,CAACI,MAAD,CAPK;;UAAA;YASXJ,IAAI,GAAGG,MAAM,KAAK,KAAX,GAAmB;cAAEG,MAAM,EAAEN;YAAV,CAAnB,GAAsCG,MAAM,KAAK,QAAX,GAAsB;cAAEH,IAAI,EAAJA;YAAF,CAAtB,GAAiCA,IAA9E;YATW;YAAA,OAUQN,QAAQ,CAACS,MAAD,CAAR,CAAiBD,GAAjB,EAAsBF,IAAtB,CAVR;;UAAA;YAUPO,MAVO;;YAWX,IAAIF,QAAJ,EAAc;cACRG,KADQ,GACAD,MAAM,CAACC,KADP;cAEZb,KAAK,CAACc,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYC,kBAAtB,EAA0CJ,KAA1C;YACD;;YACD,SAAQ;cACNK,OAAO,EAAEN,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEM,OADX;cAENd,IAAI,EAAE;YAFA,CAAR;;YAfW,iCAmBJQ,MAnBI;;UAAA;YAAA;YAAA;;YAqBX,IAAI,YAAMO,QAAV,EAAoB;cACdD,OADc,GACJ,YAAMC,QAAN,CAAed,IAAf,CAAoBa,OADhB;;cAElB,SAAQE,KAAR,CAAcF,OAAd;YACD;;YAxBU,iCAyBJG,OAAO,CAACC,MAAR,aAzBI;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C"}]}