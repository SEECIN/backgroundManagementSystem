{"remainingRequest":"D:\\桌面\\电商管理\\backstage\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\电商管理\\backstage\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\桌面\\电商管理\\backstage\\src\\api\\http.js","dependencies":[{"path":"D:\\桌面\\电商管理\\backstage\\src\\api\\http.js","mtime":1655195717996},{"path":"D:\\桌面\\电商管理\\backstage\\babel.config.js","mtime":1654661870493},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654578877485},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\babel-loader\\lib\\index.js","mtime":1654578881393},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\eslint-loader\\index.js","mtime":1654578878263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovXHU2ODRDXHU5NzYyL1x1NzUzNVx1NTU0Nlx1N0JBMVx1NzQwNi9iYWNrc3RhZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfTWVzc2FnZTIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvbWVzc2FnZS5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9NZXNzYWdlIGZyb20gImVsZW1lbnQtdWkvbGliL21lc3NhZ2UiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovXHU2ODRDXHU5NzYyL1x1NzUzNVx1NTU0Nlx1N0JBMVx1NzQwNi9iYWNrc3RhZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCBpbnN0YW5jZSBmcm9tICJAL2FwaS9jb21tb24iOwppbXBvcnQgc3RvcmUgZnJvbSAic3RvcmUiOwppbXBvcnQgQVBJX0xJU1QgZnJvbSAnQC9hcGkvYXBpLmNvbmZpZyc7CmltcG9ydCBlbmNyeXB0IGZyb20gIkAvdXRpbC9lbmNyeXB0IjsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSHR0cChfeCkgewogIHJldHVybiBfSHR0cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfSHR0cCgpIHsKICBfSHR0cCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmKSB7CiAgICB2YXIgdHlwZSwgZGF0YSwgcGFybWFzLCBfQVBJX0xJU1QkdHlwZSwgdXJsLCBtZXRob2QsIF9BUElfTElTVCR0eXBlJHJzYUtleSwgcnNhS2V5LCBfQVBJX0xJU1QkdHlwZSRzZXRUb2ssIHNldFRva2VuLCByZXN1bHQsIHRva2VuLCBtZXNzYWdlOwoKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdHlwZSA9IF9yZWYudHlwZSwgZGF0YSA9IF9yZWYuZGF0YSwgcGFybWFzID0gX3JlZi5wYXJtYXM7CgogICAgICAgICAgICBpZiAodHlwZSBpbiBBUElfTElTVCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FQSeivt+axgumUmeivrycpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgX0FQSV9MSVNUJHR5cGUgPSBBUElfTElTVFt0eXBlXSwgdXJsID0gX0FQSV9MSVNUJHR5cGUudXJsLCBtZXRob2QgPSBfQVBJX0xJU1QkdHlwZS5tZXRob2QsIF9BUElfTElTVCR0eXBlJHJzYUtleSA9IF9BUElfTElTVCR0eXBlLnJzYUtleSwgcnNhS2V5ID0gX0FQSV9MSVNUJHR5cGUkcnNhS2V5ID09PSB2b2lkIDAgPyAiIiA6IF9BUElfTElTVCR0eXBlJHJzYUtleSwgX0FQSV9MSVNUJHR5cGUkc2V0VG9rID0gX0FQSV9MSVNUJHR5cGUuc2V0VG9rZW4sIHNldFRva2VuID0gX0FQSV9MSVNUJHR5cGUkc2V0VG9rID09PSB2b2lkIDAgPyBmYWxzZSA6IF9BUElfTElTVCR0eXBlJHNldFRvazsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ7CgogICAgICAgICAgICBpZiAoIShyc2FLZXkgJiYgZGF0YVtyc2FLZXldKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgcmV0dXJuIGVuY3J5cHQoZGF0YVtyc2FLZXldKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGRhdGFbcnNhS2V5XSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBkYXRhID0gbWV0aG9kID09PSAnZ2V0JyA/IHsKICAgICAgICAgICAgICBwYXJtYXM6IGRhdGEKICAgICAgICAgICAgfSA6IGRhdGE7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlW21ldGhvZF0odXJsLCBkYXRhLCB7CiAgICAgICAgICAgICAgcGFybWFzOiBwYXJtYXMKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgIGlmIChzZXRUb2tlbikgewogICAgICAgICAgICAgIHRva2VuID0gcmVzdWx0LnRva2VuOwogICAgICAgICAgICAgIHN0b3JlLnNldChwcm9jZXNzLmVudi5UT0tFTl9OQU1FLCB0b2tlbik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE2OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDQpOwoKICAgICAgICAgICAgaWYgKF9jb250ZXh0LnQwLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgbWVzc2FnZSA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKCiAgICAgICAgICAgICAgX01lc3NhZ2UuZXJyb3IobWVzc2FnZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbNCwgMTZdXSk7CiAgfSkpOwogIHJldHVybiBfSHR0cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"names":["instance","store","API_LIST","encrypt","Http","type","data","parmas","Error","url","method","rsaKey","setToken","result","token","set","process","env","TOKEN_NAME","response","message","error"],"sources":["D:/桌面/电商管理/backstage/src/api/http.js"],"sourcesContent":["import instance from \"@/api/common\"\r\nimport store from \"store\"\r\nimport API_LIST from '@/api/api.config'\r\nimport encrypt from \"@/util/encrypt\"\r\nimport { Message } from \"element-ui\"\r\nexport default async function Http ({ type, data, parmas }) {\r\n  if (!(type in API_LIST)) {\r\n    throw new Error('API请求错误')\r\n  }\r\n  let { url, method, rsaKey = \"\", setToken = false } = API_LIST[type]\r\n  try {\r\n    if (rsaKey && data[rsaKey]) {\r\n      data[rsaKey] = await encrypt(data[rsaKey])\r\n    }\r\n    data = method === 'get' ? { parmas: data } : data\r\n    let result = await instance[method](url, data, { parmas })\r\n    if (setToken) {\r\n      let token = result.token\r\n      store.set(process.env.TOKEN_NAME, token)\r\n    }\r\n  } catch (error) {\r\n    if (error.response) {\r\n      let message = error.response.data.message\r\n      Message.error(message)\r\n    }\r\n  }\r\n}"],"mappings":";;;;;;AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AAEA,wBAA8BC,IAA9B;EAAA;AAAA;;;qEAAe;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAuBC,IAAvB,QAAuBA,IAAvB,EAA6BC,IAA7B,QAA6BA,IAA7B,EAAmCC,MAAnC,QAAmCA,MAAnC;;YAAA,IACPF,IAAI,IAAIH,QADD;cAAA;cAAA;YAAA;;YAAA,MAEL,IAAIM,KAAJ,CAAU,SAAV,CAFK;;UAAA;YAAA,iBAIwCN,QAAQ,CAACG,IAAD,CAJhD,EAIPI,GAJO,kBAIPA,GAJO,EAIFC,MAJE,kBAIFA,MAJE,yCAIMC,MAJN,EAIMA,MAJN,sCAIe,EAJf,iEAImBC,QAJnB,EAImBA,QAJnB,sCAI8B,KAJ9B;YAAA;;YAAA,MAMPD,MAAM,IAAIL,IAAI,CAACK,MAAD,CANP;cAAA;cAAA;YAAA;;YAAA;YAAA,OAOYR,OAAO,CAACG,IAAI,CAACK,MAAD,CAAL,CAPnB;;UAAA;YAOTL,IAAI,CAACK,MAAD,CAPK;;UAAA;YASXL,IAAI,GAAGI,MAAM,KAAK,KAAX,GAAmB;cAAEH,MAAM,EAAED;YAAV,CAAnB,GAAsCA,IAA7C;YATW;YAAA,OAUQN,QAAQ,CAACU,MAAD,CAAR,CAAiBD,GAAjB,EAAsBH,IAAtB,EAA4B;cAAEC,MAAM,EAANA;YAAF,CAA5B,CAVR;;UAAA;YAUPM,MAVO;;YAWX,IAAID,QAAJ,EAAc;cACRE,KADQ,GACAD,MAAM,CAACC,KADP;cAEZb,KAAK,CAACc,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYC,UAAtB,EAAkCJ,KAAlC;YACD;;YAdU;YAAA;;UAAA;YAAA;YAAA;;YAgBX,IAAI,YAAMK,QAAV,EAAoB;cACdC,OADc,GACJ,YAAMD,QAAN,CAAeb,IAAf,CAAoBc,OADhB;;cAElB,SAAQC,KAAR,CAAcD,OAAd;YACD;;UAnBU;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C"}]}