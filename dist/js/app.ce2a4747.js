(function(e){function n(n){for(var a,r,c=n[0],s=n[1],i=n[2],d=0,l=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&l.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(n);while(l.length)l.shift()();return u.push.apply(u,i||[]),t()}function t(){for(var e,n=0;n<u.length;n++){for(var t=u[n],a=!0,r=1;r<t.length;r++){var c=t[r];0!==o[c]&&(a=!1)}a&&(u.splice(n--,1),e=s(s.s=t[0]))}return e}var a={},r={app:0},o={app:0},u=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0b2c80":"3503e754","chunk-2d0f0f69":"d11c364b","chunk-2d237117":"2419178c","chunk-4ab99114":"76ce06d6","chunk-5debca3b":"1367556a","chunk-6dbb24ab":"f314b9a9","chunk-87d2ee16":"4893871c","chunk-2d0aa5b5":"82ff0cbb","chunk-2d0c78f5":"2c50d0f1","chunk-2d20ef3a":"4ae089e3","chunk-2d210a58":"82bdeeb4","chunk-2d21ad2a":"3f118a6d","chunk-48f0eaae":"7321bbe3","chunk-ace6b968":"218fcf67","chunk-969060d2":"f83bac9d"}[e]+".js"}function s(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t={"chunk-4ab99114":1,"chunk-5debca3b":1,"chunk-6dbb24ab":1,"chunk-87d2ee16":1,"chunk-ace6b968":1,"chunk-969060d2":1};r[e]?n.push(r[e]):0!==r[e]&&t[e]&&n.push(r[e]=new Promise((function(n,t){for(var a="css/"+({}[e]||e)+"."+{"chunk-2d0b2c80":"31d6cfe0","chunk-2d0f0f69":"31d6cfe0","chunk-2d237117":"31d6cfe0","chunk-4ab99114":"3d15af9a","chunk-5debca3b":"d2bd4f48","chunk-6dbb24ab":"4c9d25f4","chunk-87d2ee16":"47bb4188","chunk-2d0aa5b5":"31d6cfe0","chunk-2d0c78f5":"31d6cfe0","chunk-2d20ef3a":"31d6cfe0","chunk-2d210a58":"31d6cfe0","chunk-2d21ad2a":"31d6cfe0","chunk-48f0eaae":"31d6cfe0","chunk-ace6b968":"ace16b7a","chunk-969060d2":"8b6bb5c0"}[e]+".css",o=s.p+a,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var i=u[c],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===a||d===o))return n()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){i=l[c],d=i.getAttribute("data-href");if(d===a||d===o)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var a=n&&n.target&&n.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=a,delete r[e],f.parentNode.removeChild(f),t(u)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)n.push(a[2]);else{var u=new Promise((function(n,t){a=o[e]=[n,t]}));n.push(a[2]=u);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(e);var l=new Error;i=function(n){d.onerror=d.onload=null,clearTimeout(f);var t=o[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,t[1](l)}o[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(n)},s.m=e,s.c=a,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)s.d(t,a,function(n){return e[n]}.bind(null,a));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=n,i=i.slice();for(var l=0;l<i.length;l++)n(i[l]);var f=d;u.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"27fd":function(e,n){e.exports=Mock},4360:function(e,n,t){"use strict";var a=t("c7eb"),r=t("1da1"),o=(t("d3b7"),t("8bbf")),u=t.n(o),c=t("2f62"),s={namespaced:!0,state:{isShow:!1,type:""},mutations:{CLOSE:function(e){e.isShow=!1},OPEN:function(e){e.isShow=!0},CHANGE_TYPE:function(e,n){e.type=n.type}},actions:{close:function(e){var n=e.commit;n("CLOSE")},open:function(e,n){var t=e.commit;t("CHANGE_TYPE",{type:n}),t("OPEN")}}},i=t("2909");t("159b"),t("4de4"),t("caad"),t("2532");function d(e,n){return e.filter((function(e){return!e.children&&n.includes(e.meta.id)?e:e.children?(e.children=d(e.children,n),e.children.length>0):void 0}))}var l,f=t("a18c"),p=t("8ded"),b=t.n(p),h={namespaced:!0,state:{permissionRoutes:[]},getters:{permissionRoutes:function(e){return e.permissionRoutes}},mutations:{SET_PERMISSION_ROUTES:function(e,n){e.permissionRoutes=n,b.a.set("background_manage_permissionRoutes",n)},DELETE_PERMISSION_ROUTES:function(e){e.permissionRoutes=[],b.a.remove("background_manage_permissionRoutes")}},actions:{comparisonAndSetUpRoutes:function(e,n){var t,a=e.commit,r=d(f["b"],n);(t=f["a"].options.routes[1].children).push.apply(t,Object(i["a"])(r)),r.forEach((function(e){f["a"].addRoute("layout",e)})),r.unshift(f["a"].options.routes[1].children[0]),a("SET_PERMISSION_ROUTES",r)}}},m=t("c1fb"),g=t("d2cf");u.a.use(c["b"]);n["a"]=new c["b"].Store({state:{token:null===(l=b.a.get("background_manage_userInfo"))||void 0===l?void 0:l.token,userInfo:{}},getters:{userInfo:function(e){var n=b.a.get("background_manage_userInfo");if(e.token)return n||e.userInfo}},mutations:{SET_USERINFO:function(e,n){var t,a=n.userInfo;b.a.set("background_manage_userInfo",a),e.token=null===(t=b.a.get("background_manage_userInfo"))||void 0===t?void 0:t.token,e.userInfo=a},DELETE_INFO:function(e){e.token="",e.userInfo={},b.a.remove("background_manage_userInfo")}},actions:{logOut:function(e){var n=this;return Object(r["a"])(Object(a["a"])().mark((function t(){var r;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,Object(g["a"])(),r("DELETE_INFO"),n.commit("permission/DELETE_PERMISSION_ROUTES");case 4:case"end":return t.stop()}}),t)})))()},login:function(e,n){var t=this;return Object(r["a"])(Object(a["a"])().mark((function r(){var o,u,c,s;return Object(a["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e.commit,a.prev=1,a.next=4,Object(m["a"])("login",n);case 4:u=a.sent,c=u.data.result,s=c.roleAuth,o("SET_USERINFO",{userInfo:c}),t.dispatch("permission/comparisonAndSetUpRoutes",s),a.next=15;break;case 11:return a.prev=11,a.t0=a["catch"](1),console.log(a.t0),a.abrupt("return",Promise.reject(a.t0));case 15:case"end":return a.stop()}}),r,null,[[1,11]])})))()}},modules:{modal:s,permission:h}})},"49c2":function(e,n){e.exports=vuescroll},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var a=t("8bbf"),r=t.n(a),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},u=[],c={name:"app"},s=c,i=(t("7faf"),t("2877")),d=Object(i["a"])(s,o,u,!1,null,null,null),l=d.exports,f=t("a18c"),p=t("4360"),b=(t("6dca"),t("450d"),t("2cf9")),h=t.n(b),m=(t("06f1"),t("6ac9")),g=t.n(m),k=(t("acb6"),t("c673")),v=t.n(k),y=(t("f225"),t("89a9")),_=t.n(y),O=(t("9d4c"),t("e450")),E=t.n(O),w=(t("9c49"),t("6640")),P=t.n(w),S=(t("d2ac"),t("95b0")),j=t.n(S),I=(t("5e32"),t("6721")),R=t.n(I),x=(t("e960"),t("b35b")),T=t.n(x),C=(t("6611"),t("e772")),N=t.n(C),A=(t("1f1a"),t("4e4b")),U=t.n(A),L=(t("a7cc"),t("df33")),K=t.n(L),M=(t("cbb5"),t("8bbc")),F=t.n(M),D=(t("672e"),t("101e")),$=t.n(D),B=(t("28b2"),t("c7ad")),q=t.n(B),H=(t("5466"),t("ecdf")),G=t.n(H),J=(t("38a0"),t("ad41")),V=t.n(J),Y=(t("920a"),t("4f0c")),z=t.n(Y),Q=(t("b84d"),t("c216")),W=t.n(Q),X=(t("8f24"),t("76b9")),Z=t.n(X),ee=(t("f4f9"),t("c2cc")),ne=t.n(ee),te=(t("7a0f"),t("0f6c")),ae=t.n(te),re=(t("8bd8"),t("4cb2")),oe=t.n(re),ue=(t("34db"),t("3803")),ce=t.n(ue),se=(t("ce18"),t("f58e")),ie=t.n(se),de=(t("4ca3"),t("443e")),le=t.n(de),fe=(t("10cb"),t("f3ad")),pe=t.n(fe),be=(t("eca7"),t("3787")),he=t.n(be),me=(t("425f"),t("4105")),ge=t.n(me),ke=(t("1951"),t("eedf")),ve=t.n(ke);r.a.use(ve.a),r.a.use(ge.a),r.a.use(he.a),r.a.use(pe.a),r.a.use(le.a),r.a.use(ie.a),r.a.use(ce.a),r.a.use(oe.a),r.a.use(ae.a),r.a.use(ne.a),r.a.use(Z.a),r.a.use(W.a),r.a.use(z.a),r.a.use(V.a),r.a.use(G.a),r.a.use(q.a),r.a.use($.a),r.a.use(F.a),r.a.use(K.a),r.a.use(U.a),r.a.use(N.a),r.a.use(T.a),r.a.use(R.a),r.a.use(j.a),r.a.use(P.a),r.a.use(E.a),r.a.use(_.a),r.a.use(v.a),r.a.use(g.a),r.a.use(h.a);var ye=t("c1fb"),_e=(t("0fae"),t("a5d8"),t("98c9"));r.a.use(_e["a"]),r.a.config.productionTip=!1,r.a.prototype.$axios=ye["a"],r.a.prototype.$bus=new r.a,new r.a({router:f["a"],store:p["a"],render:function(e){return e(l)}}).$mount("#app")},6389:function(e,n){e.exports=VueRouter},"7faf":function(e,n,t){"use strict";t("b8ff")},"8bbf":function(e,n){e.exports=Vue},a18c:function(e,n,t){"use strict";t.d(n,"b",(function(){return l}));t("d3b7"),t("3ca3"),t("ddb0");var a=t("8bbf"),r=t.n(a),o=t("6389"),u=t.n(o),c=t("8ded"),s=t.n(c),i=t("4360");r.a.use(u.a);var d=[{path:"/login",name:"login",component:function(){return t.e("chunk-5debca3b").then(t.bind(null,"4b3f"))}},{path:"/",name:"layout",redirect:"home",component:function(){return Promise.all([t.e("chunk-6dbb24ab"),t.e("chunk-ace6b968")]).then(t.bind(null,"5353"))},children:[{path:"home",name:"首页",component:function(){return t.e("chunk-969060d2").then(t.bind(null,"f5b8"))},meta:{icon:"el-icon-menu"}}]},{path:"*",name:"notFound",component:function(){return t.e("chunk-4ab99114").then(t.bind(null,"1644"))}}],l=[{path:"",name:"用户管理",component:function(){return t.e("chunk-2d0b2c80").then(t.bind(null,"2628"))},meta:{id:101,icon:"el-icon-user-solid"},children:[{path:"userslist",name:"用户列表",component:function(){return Promise.all([t.e("chunk-6dbb24ab"),t.e("chunk-87d2ee16"),t.e("chunk-2d20ef3a")]).then(t.bind(null,"b20d"))},meta:{id:10101,icon:"el-icon-menu"}}]},{path:"",name:"权限管理",component:function(){return t.e("chunk-2d237117").then(t.bind(null,"fa17"))},meta:{id:102,icon:"el-icon-s-tools"},children:[{path:"rolelist",name:"角色列表",component:function(){return Promise.all([t.e("chunk-6dbb24ab"),t.e("chunk-87d2ee16"),t.e("chunk-2d210a58")]).then(t.bind(null,"b97b"))},meta:{id:10201,icon:"el-icon-menu"}},{path:"permissiolist",name:"权限列表",component:function(){return Promise.all([t.e("chunk-6dbb24ab"),t.e("chunk-87d2ee16"),t.e("chunk-48f0eaae")]).then(t.bind(null,"28ed"))},meta:{id:10202,icon:"el-icon-menu"}}]},{path:"",name:"商品管理",component:function(){return t.e("chunk-2d0f0f69").then(t.bind(null,"9f39"))},meta:{id:103,icon:"el-icon-s-goods"},children:[{path:"productslist",name:"商品列表",component:function(){return Promise.all([t.e("chunk-6dbb24ab"),t.e("chunk-87d2ee16"),t.e("chunk-2d0aa5b5")]).then(t.bind(null,"1154"))},meta:{id:10301,icon:"el-icon-menu"}},{path:"productsclassify",name:"商品分类",component:function(){return Promise.all([t.e("chunk-6dbb24ab"),t.e("chunk-87d2ee16"),t.e("chunk-2d0c78f5")]).then(t.bind(null,"50ae"))},meta:{id:10302,icon:"el-icon-menu"}}]},{path:"ordersmanage",name:"订单管理",component:function(){return Promise.all([t.e("chunk-6dbb24ab"),t.e("chunk-87d2ee16"),t.e("chunk-2d21ad2a")]).then(t.bind(null,"bcc6"))},meta:{id:104,icon:"el-icon-s-order"}}],f=new u.a({routes:d});f.beforeEach((function(e,n,t){var a,r,o=null===(a=s.a.get("background_manage_userInfo"))||void 0===a?void 0:a.token,u=null===(r=s.a.get("background_manage_userInfo"))||void 0===r?void 0:r.roleAuth;o?"/login"===e.path?t("/"):0===i["a"].state.permission.permissionRoutes.length?(i["a"].dispatch("permission/comparisonAndSetUpRoutes",u),t({path:e.path})):t():("/login"!==e.path&&t("/login"),t())})),n["a"]=f},b8ff:function(e,n,t){},c1fb:function(e,n,t){"use strict";t.d(n,"a",(function(){return E}));var a=t("c7eb"),r=(t("0fb7"),t("450d"),t("f529")),o=t.n(r),u=t("1da1"),c=(t("d9e2"),t("d3b7"),t("caad"),t("4de4"),t("4fad"),t("bc3a")),s=t.n(c),i=t("8ded"),d=t.n(i),l=t("4360"),f=t("8bbf"),p=t.n(f),b=t("d2cf"),h=t("323e"),m=t.n(h),g=s.a.create({baseURL:"/api",timeout:"5000"});g.interceptors.request.use(function(){var e=Object(u["a"])(Object(a["a"])().mark((function e(n){var t,r,u,c,s,i;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=null===(t=d.a.get("background_manage_userInfo"))||void 0===t?void 0:t.token,s=null===(r=d.a.get("background_manage_userInfo"))||void 0===r?void 0:r.status,i=null===(u=d.a.get("background_manage_userInfo"))||void 0===u?void 0:u.roleName,c&&(n.headers["Authorization"]="Bearer ".concat(c)),!["delete","put","post"].includes(n.method)||0!==s||"超级管理员"===i){e.next=7;break}return o()({type:"warning",message:"当前用户已被禁用，无法进行操作"}),e.abrupt("return",Promise.reject("当前用户已被禁用，无法进行操作"));case 7:return m.a.start(),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),g.interceptors.response.use((function(e){if(["user","role"].includes(e.config.url)&&"put"===e.config.method){var n=d.a.get("background_manage_userInfo"),t=e.data.data.result;if(n.id===t.id||n.role===t.id){var a=["username","status","roleName","roleAuth"];if(Object.entries(t).filter((function(e){a.includes(e[0])&&n[e[0]]!==e[1]&&(n[e[0]]=e[1])})),l["a"].commit("SET_USERINFO",{userInfo:n}),"role"===e.config.url){Object(b["a"])();var r=d.a.get("background_manage_userInfo"),o=r.roleAuth;l["a"].dispatch("permission/comparisonAndSetUpRoutes",o)}else p.a.prototype.$bus.$emit("headerCmponentUpdate")}}return m.a.done(),null===e||void 0===e?void 0:e.data}),(function(e){return Promise.reject(e)}));var k=g,v={login:{url:"login",method:"post",rsaKey:"password"},getPubKey:{url:"getPubKey",method:"get"},getUserList:{url:"user",method:"get"},addUser:{url:"user",method:"post",rsaKey:"password"},editUser:{url:"user",method:"put",rsaKey:"password"},deleteUser:{url:"user",method:"delete"},getRoleList:{url:"role",method:"get"},addRole:{url:"role",method:"post"},editRole:{url:"role",method:"put"},deleteRole:{url:"role",method:"delete"},addProductsCategory:{url:"productsCategory",method:"post"},getProductsCategory:{url:"productsCategory",method:"get"},editProductsCategory:{url:"productsCategory",method:"put"},deleteProductsCategory:{url:"productsCategory",method:"delete"},addProduct:{url:"product",method:"post"},getProductList:{url:"product",method:"get"},editProduct:{url:"product",method:"put"},deleteProduct:{url:"product",method:"delete"}},y=(t("ac1f"),t("5319"),t("9816"));function _(e){return O.apply(this,arguments)}function O(){return O=Object(u["a"])(Object(a["a"])().mark((function e(n){var t,r,o;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=d.a.get("background_manage_publicKey"),e.prev=1,t&&"undefined"!==t){e.next=10;break}return e.next=5,k.get("/getPubKey");case 5:r=e.sent,t=r.data.pubKey,t=t.replace(/\. +/g,""),t=t.replace(/[\r\n]/g,""),d.a.set("background_manage_publicKey",t);case 10:return o=new y["a"],o.setPublicKey(t),e.abrupt("return",o.encrypt(n));case 15:e.prev=15,e.t0=e["catch"](1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),O.apply(this,arguments)}function E(e,n){return w.apply(this,arguments)}function w(){return w=Object(u["a"])(Object(a["a"])().mark((function e(n,t){var r,u,c,s,i,d,l;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n in v){e.next=2;break}throw new Error("API请求错误");case 2:if(r=v[n],u=r.url,c=r.method,s=r.rsaKey,i=void 0===s?"":s,e.prev=3,!i||!t[i]){e.next=8;break}return e.next=7,_(t[i]);case 7:t[i]=e.sent;case 8:return t="get"===c?{params:t}:"delete"===c?{data:t}:t,e.next=11,k[c](u,t);case 11:return d=e.sent,o()({message:null===d||void 0===d?void 0:d.message,type:"success"}),e.abrupt("return",d);case 16:return e.prev=16,e.t0=e["catch"](3),e.t0.response&&(l=e.t0.response.data.message,o.a.error(l)),e.abrupt("return",Promise.reject(e.t0));case 20:case"end":return e.stop()}}),e,null,[[3,16]])}))),w.apply(this,arguments)}},d2cf:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));t("a434");var a=t("a18c"),r=t("6389"),o=t.n(r);function u(){var e=a["a"].options.routes;e[1].children.splice(1,e[1].children.length-1),a["a"].matcher=new o.a({routes:e}).matcher}}});
//# sourceMappingURL=app.ce2a4747.js.map