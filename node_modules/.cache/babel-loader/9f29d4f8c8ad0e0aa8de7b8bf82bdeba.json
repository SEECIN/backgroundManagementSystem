{"remainingRequest":"D:\\桌面\\电商管理\\backstage\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\电商管理\\backstage\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\桌面\\电商管理\\backstage\\src\\api\\common.js","dependencies":[{"path":"D:\\桌面\\电商管理\\backstage\\src\\api\\common.js","mtime":1655194098040},{"path":"D:\\桌面\\电商管理\\backstage\\babel.config.js","mtime":1654661870493},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654578877485},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\babel-loader\\lib\\index.js","mtime":1654578881393},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\eslint-loader\\index.js","mtime":1654578878263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi9cdTc1MzVcdTU1NDZcdTdCQTFcdTc0MDYvYmFja3N0YWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovXHU2ODRDXHU5NzYyL1x1NzUzNVx1NTU0Nlx1N0JBMVx1NzQwNi9iYWNrc3RhZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHN0b3JlIGZyb20gInN0b3JlIjsKLy9heGlvc+m7mOiupOWAvAp2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHRpbWVvdXQ6IHByb2Nlc3MuZW52LlRJTUVfT1VUCn0pOyAvL3JlcXVlc3Qg5oum5oiq5ZmoCgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoY29uZmlnKSB7CiAgICB2YXIgdG9rZW47CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHRva2VuID0gc3RvcmUuZ2V0KHByb2Nlc3MuZW52LlRPS0VOX05BTUUpOwoKICAgICAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBjb25maWcpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpLCBmdW5jdGlvbiAoZXJyKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOyAvL3Jlc3BvbnNlIOaLpuaIquWZqAoKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAvL+WJpeemu+acgOWkluWxggogIHJldHVybiByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UuZGF0YTsKfSwgZnVuY3Rpb24gKGVycikgewogIF9NZXNzYWdlKHsKICAgIHR5cGU6ICJlcnJvciIsCiAgICBtZXNzYWdlOiBlcnIubWVzc2FnZQogIH0pOwoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7CmV4cG9ydCBkZWZhdWx0IGluc3RhbmNlOw=="},{"version":3,"names":["axios","store","instance","create","baseURL","process","env","BASE_URL","timeout","TIME_OUT","interceptors","request","use","config","token","get","TOKEN_NAME","headers","err","Promise","reject","response","data","type","message"],"sources":["D:/桌面/电商管理/backstage/src/api/common.js"],"sourcesContent":["import axios from \"axios\"\r\nimport store from \"store\"\r\nimport { Message } from 'element-ui';\r\n\r\n//axios默认值\r\nconst instance = axios.create({\r\n  baseURL: process.env.BASE_URL,\r\n  timeout: process.env.TIME_OUT\r\n})\r\n\r\n//request 拦截器\r\ninstance.interceptors.request.use(async config => {\r\n  let token = store.get(process.env.TOKEN_NAME)\r\n  if (token) {\r\n    config.headers['Authorization'] = `Bearer ${token}`\r\n  }\r\n  return config\r\n}, err => {\r\n  return Promise.reject(err)\r\n})\r\n\r\n//response 拦截器\r\ninstance.interceptors.response.use(response => {\r\n  //剥离最外层\r\n  return response?.data\r\n}, err => {\r\n  Message({\r\n    type: \"error\",\r\n    message: err.message\r\n  })\r\n  return Promise.reject(err)\r\n})\r\nexport default instance"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA;AACA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;EAC5BC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,QADO;EAE5BC,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFO,CAAb,CAAjB,C,CAKA;;AACAP,QAAQ,CAACQ,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B;EAAA,sEAAkC,iBAAMC,MAAN;IAAA;IAAA;MAAA;QAAA;UAAA;YAC5BC,KAD4B,GACpBb,KAAK,CAACc,GAAN,CAAUV,OAAO,CAACC,GAAR,CAAYU,UAAtB,CADoB;;YAEhC,IAAIF,KAAJ,EAAW;cACTD,MAAM,CAACI,OAAP,CAAe,eAAf,qBAA4CH,KAA5C;YACD;;YAJ+B,iCAKzBD,MALyB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAlC;;EAAA;IAAA;EAAA;AAAA,KAMG,UAAAK,GAAG,EAAI;EACR,OAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CARD,E,CAUA;;AACAhB,QAAQ,CAACQ,YAAT,CAAsBW,QAAtB,CAA+BT,GAA/B,CAAmC,UAAAS,QAAQ,EAAI;EAC7C;EACA,OAAOA,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAEC,IAAjB;AACD,CAHD,EAGG,UAAAJ,GAAG,EAAI;EACR,SAAQ;IACNK,IAAI,EAAE,OADA;IAENC,OAAO,EAAEN,GAAG,CAACM;EAFP,CAAR;;EAIA,OAAOL,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CATD;AAUA,eAAehB,QAAf"}]}