{"remainingRequest":"D:\\桌面\\电商管理\\backstage\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\电商管理\\backstage\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\桌面\\电商管理\\backstage\\src\\api\\http.js","dependencies":[{"path":"D:\\桌面\\电商管理\\backstage\\src\\api\\http.js","mtime":1655282279989},{"path":"D:\\桌面\\电商管理\\backstage\\babel.config.js","mtime":1654661870493},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654578877485},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\babel-loader\\lib\\index.js","mtime":1654578881393},{"path":"D:\\桌面\\电商管理\\backstage\\node_modules\\eslint-loader\\index.js","mtime":1654578878263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovXHU2ODRDXHU5NzYyL1x1NzUzNVx1NTU0Nlx1N0JBMVx1NzQwNi9iYWNrc3RhZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfTWVzc2FnZTIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvbWVzc2FnZS5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9NZXNzYWdlIGZyb20gImVsZW1lbnQtdWkvbGliL21lc3NhZ2UiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovXHU2ODRDXHU5NzYyL1x1NzUzNVx1NTU0Nlx1N0JBMVx1NzQwNi9iYWNrc3RhZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCBpbnN0YW5jZSBmcm9tICJAL2FwaS9jb21tb24iOwppbXBvcnQgc3RvcmUgZnJvbSAic3RvcmUiOwppbXBvcnQgQVBJX0xJU1QgZnJvbSAnQC9hcGkvYXBpLmNvbmZpZyc7CmltcG9ydCBlbmNyeXB0IGZyb20gIkAvdXRpbC9lbmNyeXB0IjsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSHR0cChfeCkgewogIHJldHVybiBfSHR0cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfSHR0cCgpIHsKICBfSHR0cCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmKSB7CiAgICB2YXIgdHlwZSwgZGF0YSwgcGFybWFzLCBfQVBJX0xJU1QkdHlwZSwgdXJsLCBtZXRob2QsIF9BUElfTElTVCR0eXBlJHJzYUtleSwgcnNhS2V5LCBfQVBJX0xJU1QkdHlwZSRzZXRUb2ssIHNldFRva2VuLCByZXN1bHQsIHRva2VuLCBtZXNzYWdlOwoKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdHlwZSA9IF9yZWYudHlwZSwgZGF0YSA9IF9yZWYuZGF0YSwgcGFybWFzID0gX3JlZi5wYXJtYXM7CgogICAgICAgICAgICBpZiAodHlwZSBpbiBBUElfTElTVCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FQSeivt+axgumUmeivrycpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgX0FQSV9MSVNUJHR5cGUgPSBBUElfTElTVFt0eXBlXSwgdXJsID0gX0FQSV9MSVNUJHR5cGUudXJsLCBtZXRob2QgPSBfQVBJX0xJU1QkdHlwZS5tZXRob2QsIF9BUElfTElTVCR0eXBlJHJzYUtleSA9IF9BUElfTElTVCR0eXBlLnJzYUtleSwgcnNhS2V5ID0gX0FQSV9MSVNUJHR5cGUkcnNhS2V5ID09PSB2b2lkIDAgPyAiIiA6IF9BUElfTElTVCR0eXBlJHJzYUtleSwgX0FQSV9MSVNUJHR5cGUkc2V0VG9rID0gX0FQSV9MSVNUJHR5cGUuc2V0VG9rZW4sIHNldFRva2VuID0gX0FQSV9MSVNUJHR5cGUkc2V0VG9rID09PSB2b2lkIDAgPyBmYWxzZSA6IF9BUElfTElTVCR0eXBlJHNldFRvazsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ7CgogICAgICAgICAgICBpZiAoIShyc2FLZXkgJiYgZGF0YVtyc2FLZXldKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YVtyc2FLZXldKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgIHJldHVybiBlbmNyeXB0KGRhdGFbcnNhS2V5XSk7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBkYXRhW3JzYUtleV0gPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGRhdGEgPSBtZXRob2QgPT09ICdnZXQnID8gewogICAgICAgICAgICAgIHBhcm1hczogZGF0YQogICAgICAgICAgICB9IDogZGF0YTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VbbWV0aG9kXSh1cmwsIGRhdGEsIHsKICAgICAgICAgICAgICBwYXJtYXM6IHBhcm1hcwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgaWYgKHNldFRva2VuKSB7CiAgICAgICAgICAgICAgdG9rZW4gPSByZXN1bHQudG9rZW47CiAgICAgICAgICAgICAgc3RvcmUuc2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVE9LRU5fTkFNRSwgdG9rZW4pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfTWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTk7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNCk7CgogICAgICAgICAgICBpZiAoX2NvbnRleHQudDAucmVzcG9uc2UpIHsKICAgICAgICAgICAgICBtZXNzYWdlID0gX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwoKICAgICAgICAgICAgICBfTWVzc2FnZS5lcnJvcihtZXNzYWdlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s0LCAxOV1dKTsKICB9KSk7CiAgcmV0dXJuIF9IdHRwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"names":["instance","store","API_LIST","encrypt","Http","type","data","parmas","Error","url","method","rsaKey","setToken","console","log","result","token","set","process","env","VUE_APP_TOKEN_NAME","message","response","error"],"sources":["D:/桌面/电商管理/backstage/src/api/http.js"],"sourcesContent":["import instance from \"@/api/common\"\r\nimport store from \"store\"\r\nimport API_LIST from '@/api/api.config'\r\nimport encrypt from \"@/util/encrypt\"\r\nimport { Message } from \"element-ui\"\r\nexport default async function Http ({ type, data, parmas }) {\r\n  if (!(type in API_LIST)) {\r\n    throw new Error('API请求错误')\r\n  }\r\n  let { url, method, rsaKey = \"\", setToken = false } = API_LIST[type]\r\n  try {\r\n    if (rsaKey && data[rsaKey]) {\r\n      console.log(data[rsaKey]);\r\n      data[rsaKey] = await encrypt(data[rsaKey])\r\n    }\r\n    data = method === 'get' ? { parmas: data } : data\r\n    let result = await instance[method](url, data, { parmas })\r\n    if (setToken) {\r\n      let token = result.token\r\n      store.set(process.env.VUE_APP_TOKEN_NAME, token)\r\n    }\r\n    Message({\r\n      message: result.message,\r\n      type: 'success'\r\n    })\r\n    return result\r\n  } catch (error) {\r\n    if (error.response) {\r\n      let message = error.response.data.message\r\n      Message.error(message)\r\n    }\r\n  }\r\n}"],"mappings":";;;;;;AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AAEA,wBAA8BC,IAA9B;EAAA;AAAA;;;qEAAe;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAuBC,IAAvB,QAAuBA,IAAvB,EAA6BC,IAA7B,QAA6BA,IAA7B,EAAmCC,MAAnC,QAAmCA,MAAnC;;YAAA,IACPF,IAAI,IAAIH,QADD;cAAA;cAAA;YAAA;;YAAA,MAEL,IAAIM,KAAJ,CAAU,SAAV,CAFK;;UAAA;YAAA,iBAIwCN,QAAQ,CAACG,IAAD,CAJhD,EAIPI,GAJO,kBAIPA,GAJO,EAIFC,MAJE,kBAIFA,MAJE,yCAIMC,MAJN,EAIMA,MAJN,sCAIe,EAJf,iEAImBC,QAJnB,EAImBA,QAJnB,sCAI8B,KAJ9B;YAAA;;YAAA,MAMPD,MAAM,IAAIL,IAAI,CAACK,MAAD,CANP;cAAA;cAAA;YAAA;;YAOTE,OAAO,CAACC,GAAR,CAAYR,IAAI,CAACK,MAAD,CAAhB;YAPS;YAAA,OAQYR,OAAO,CAACG,IAAI,CAACK,MAAD,CAAL,CARnB;;UAAA;YAQTL,IAAI,CAACK,MAAD,CARK;;UAAA;YAUXL,IAAI,GAAGI,MAAM,KAAK,KAAX,GAAmB;cAAEH,MAAM,EAAED;YAAV,CAAnB,GAAsCA,IAA7C;YAVW;YAAA,OAWQN,QAAQ,CAACU,MAAD,CAAR,CAAiBD,GAAjB,EAAsBH,IAAtB,EAA4B;cAAEC,MAAM,EAANA;YAAF,CAA5B,CAXR;;UAAA;YAWPQ,MAXO;;YAYX,IAAIH,QAAJ,EAAc;cACRI,KADQ,GACAD,MAAM,CAACC,KADP;cAEZf,KAAK,CAACgB,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYC,kBAAtB,EAA0CJ,KAA1C;YACD;;YACD,SAAQ;cACNK,OAAO,EAAEN,MAAM,CAACM,OADV;cAENhB,IAAI,EAAE;YAFA,CAAR;;YAhBW,iCAoBJU,MApBI;;UAAA;YAAA;YAAA;;YAsBX,IAAI,YAAMO,QAAV,EAAoB;cACdD,OADc,GACJ,YAAMC,QAAN,CAAehB,IAAf,CAAoBe,OADhB;;cAElB,SAAQE,KAAR,CAAcF,OAAd;YACD;;UAzBU;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C"}]}